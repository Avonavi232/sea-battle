(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{130:function(e,t){},156:function(e,t,n){},157:function(e,t,n){"use strict";n.r(t);for(var r=n(0),a=n.n(r),o=n(13),c=n.n(o),i=n(10),l=n(1),s=n(2),u=n(3),p=n(6),m=n(8),d=n(7),f=n(9),h={boardSize:10,alphabete:"abcdefghijklmnopqrstuvwxyz",apiUrl:"https://mighty-gorge-21935.herokuapp.com"},v=[],y=[],g=0;g<h.boardSize;g++)v.push({x:g+1,y:0,content:h.alphabete[g].toUpperCase()}),y.push({x:0,y:g+1,content:g+1});for(var b=[].concat(v,y),O=[],S=0;S<h.boardSize;S++)for(var j=0;j<h.boardSize;j++)O.push({x:j,y:S});var E=n(11),w=n(14);function C(){return(C=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function I(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var _=a.a.createElement("path",{d:"M477.546,228.616h-53.567c-9.827-80.034-74.019-143.608-154.719-153.134V20.321 C269.259,9.096,260.155,0,248.938,0c-11.226,0-20.321,9.096-20.321,20.321v54.974c-81.375,8.941-146.257,72.808-156.15,153.313 H20.321C9.096,228.608,0,237.704,0,248.929s9.096,20.321,20.321,20.321H72.19c8.99,81.513,74.328,146.428,156.426,155.451v52.844 c0,11.226,9.096,20.321,20.321,20.321c11.217,0,20.321-9.096,20.321-20.321v-53.023c81.416-9.608,146.054-74.222,154.996-155.264 h53.291c11.226,0,20.321-9.096,20.321-20.321S488.771,228.616,477.546,228.616z M269.259,383.392v-67.028 c0-11.226-9.104-20.321-20.321-20.321c-11.226,0-20.321,9.096-20.321,20.321v67.24c-59.607-8.551-106.753-55.299-115.312-114.345 h68.207c11.226,0,20.321-9.096,20.321-20.321s-9.096-20.321-20.321-20.321h-67.882c9.38-58.046,56.103-103.761,114.987-112.215 v65.11c0,11.226,9.096,20.321,20.321,20.321c11.217,0,20.321-9.096,20.321-20.321v-64.899 c58.209,8.982,104.249,54.421,113.556,112.004h-66.459c-11.226,0-20.321,9.096-20.321,20.321s9.096,20.321,20.321,20.321h66.793 C374.646,327.842,328.191,374.297,269.259,383.392z"}),x=function(e){var t=e.svgRef,n=I(e,["svgRef"]);return a.a.createElement("svg",C({x:"0px",y:"0px",viewBox:"0 0 497.867 497.867",xmlSpace:"preserve",ref:t},n),_)},k=a.a.forwardRef(function(e,t){return a.a.createElement(x,C({svgRef:t},e))});n.p;function D(){return(D=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function P(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var R=a.a.createElement("path",{d:"M183.455,50.228c-0.119-0.121-0.256-0.227-0.376-0.346c-0.144-2.28-0.375-4.543-0.658-6.796 c1.008-0.688,1.313-2.464,0.451-3.487c-0.367-0.435-0.771-0.846-1.168-1.262c-1.366-7.702-3.708-15.173-7.544-22.213 c2.76-1.833,2.644-7.145-1.241-8.141c-34.754-8.906-72.091,2.067-107.614-3.356C53.704,2.855,20.385-6.396,14.081,7.65 c-1.862-0.487-4.136,0.507-4.227,3.052c-1.175,33.095-1.294,66.212-2.863,99.3c-0.876,18.487-8.729,45.77,3.792,61.646 c1.303,1.654,3.034,1.316,4.247,0.218c12.971,13.903,43.069,14.479,60.049,14.98c0.092,0.104,0.189,0.202,0.28,0.308 c1.237,1.404,2.869,0.905,3.766-0.234c28.932,0.633,58.04-3.325,86.529-7.989c0.212,0.19,0.415,0.396,0.627,0.585 c3.132,2.797,6.948-1.319,4.49-4.49c-0.118-0.152-0.247-0.301-0.366-0.453c1.259-0.625,2.286-1.834,2.502-3.708 c3.238-28.057,6.058-56.372,8.754-84.508c1.006-10.504,1.917-21.269,1.629-31.849C184.336,53.381,184.724,51.509,183.455,50.228z  M169.584,16.651c1.079,4.529,1.852,9.141,2.434,13.797c-1.989-1.426-3.962-2.844-5.769-4.338 c-3.948-3.266-7.75-6.711-11.762-9.896C159.53,16.222,164.567,16.313,169.584,16.651z M149.452,16.248 c0.074,0.149,0.156,0.296,0.291,0.426c4.911,4.728,10.032,9.246,15.011,13.904c2.57,2.404,5.204,5.118,8.036,7.518 c0.083,1.045,0.183,2.087,0.248,3.136c-3.803-2.966-7.686-5.848-11.322-8.904c-5.9-4.96-11.297-10.3-16.327-16.053 C146.744,16.245,148.097,16.265,149.452,16.248z M15.946,164.688c-0.849-6.355-1.179-12.633-1.251-18.891 c7.963,10.244,17.076,20.935,27.823,27.828C33.3,171.574,24.951,166.874,15.946,164.688z M51.841,175.189 c-0.084-0.283-0.232-0.562-0.541-0.813c-6.92-5.607-14.297-10.392-20.845-16.507c-5.683-5.309-10.832-11.182-15.784-17.187 c0.055-4.753,0.265-9.509,0.511-14.276c16.138,17.39,33.989,33.091,50.437,50.227C61.013,176.29,56.415,175.84,51.841,175.189z  M86.844,177.221c-4.449,0.097-8.897,0.021-13.341-0.146c-17.537-19.501-37.517-37.836-58.163-53.795 c0.328-5.87,0.688-11.791,0.969-17.781c3.91,11.804,17.197,23.038,24.998,30.696c14.926,14.652,31.23,27.915,47.564,40.956 C88.195,177.17,87.52,177.206,86.844,177.221z M94.155,176.974c0.736-1.019,0.847-2.361-0.446-3.366 c-27.488-21.325-58.583-43.3-76.364-73.782c-0.178-0.305-0.48-0.427-0.796-0.473c0.189-4.991,0.293-9.993,0.412-14.992 c24.614,31.673,50.98,70.942,85.949,92.091C99.991,176.627,97.079,176.857,94.155,176.974z M112.669,175.837 c-36.659-27.825-66.27-60.093-95.6-95.425c0.117-5.767,0.189-11.537,0.22-17.307c37.83,34.935,68.273,78.158,107.231,111.627 C120.574,175.14,116.625,175.517,112.669,175.837z M132.209,173.856C95.508,134.756,58.506,93.318,17.284,58.956 c0.011-5.561-0.06-11.122-0.12-16.682C62.907,83.234,102.981,128.94,146.39,172.02 C141.667,172.677,136.942,173.301,132.209,173.856z M154.197,170.865c-5.305-6.597-10.81-13.124-16.459-19.589 c6.16,6.588,12.425,13.032,18.867,19.22C155.801,170.616,154.999,170.744,154.197,170.865z M163.954,166.578 c-25.071-30.659-54.699-58.723-81.819-87.286C66.274,62.586,50.527,45.699,34.076,29.567c-2.268-2.224-12.044-14.94-16.356-12.891 c-0.368,0.175-0.282,0.672,0,0.867c6.415,4.446,13.052,15.337,18.541,21.249C51.986,55.73,67.527,72.845,83.103,89.918 c12.47,13.669,24.72,28.032,37.225,42.177C88.46,98.208,52.81,66.564,17.425,38.48c-0.093-0.074-0.192-0.101-0.289-0.15 c-0.127-9.217-0.326-18.43-0.65-27.627c-0.007-0.195-0.086-0.335-0.118-0.512c3.987-0.561,8.092-0.688,12.242-0.61 c17.813,24.72,38.444,47.53,59.428,69.556c22.999,24.143,46.279,50.161,72.062,71.321c1.487,1.221,3.144,0.83,4.07-0.214 C163.833,155.723,163.69,161.179,163.954,166.578z M171.393,92.013c-0.988,10.312-2.683,20.873-4.222,31.492 c-38.366-37.284-74.3-82.057-119.577-110.951c-1.75-1.117-3.137,1.518-1.582,2.707c44.257,33.82,75.357,81.453,119.339,115.05 c0.27,0.206,0.545,0.297,0.818,0.389c-0.721,5.391-1.36,10.786-1.785,16.163c-0.09-0.146-0.131-0.295-0.248-0.438 c-19.873-24.045-45.02-44.561-67.22-66.473C74.212,57.541,52.877,34.233,32.544,9.714c13.824,0.779,28.116,4.043,41.269,6.005 c10.686,17.886,25.375,32.609,40.761,46.735c16.228,14.897,33.017,32.429,51.031,45.002c2.156,1.505,4.97-1.437,3.574-3.574 c-10.839-16.607-31.394-28.996-46.484-41.569c-16.435-13.691-32.603-28.357-44.731-46.046c4.133,0.507,8.285,0.818,12.449,1.027 c0.018,0.368,0.187,0.715,0.606,0.895c19.018,8.144,34.447,23.127,49.203,37.244c9.647,9.231,19.731,23.779,31.678,30.946 C171.731,88.258,171.571,90.15,171.393,92.013z M172.628,77.25c-9.475-10.452-21.787-19.802-31.779-28.859 c-13.232-11.992-27.841-24.404-44.728-30.932c7.866,0.19,15.774-0.009,23.693-0.295c9.881,8.862,19.645,17.859,29.43,26.828 c7.353,6.74,15.194,16.088,24.031,21.49C173.116,69.421,172.908,73.351,172.628,77.25z M153.139,40.099 c-9.164-7.809-18.347-15.576-27.707-23.139c4.982-0.2,9.967-0.388,14.948-0.545c8.812,12.465,20.876,23.966,33.029,33.588 c0.041,2.152,0.104,4.303,0.086,6.458C167.087,50.602,159.425,45.456,153.139,40.099z"}),N=function(e){var t=e.svgRef,n=P(e,["svgRef"]);return a.a.createElement("svg",D({x:"0px",y:"0px",viewBox:"0 0 188.011 188.011",xmlSpace:"preserve",ref:t},n),R)},M=a.a.forwardRef(function(e,t){return a.a.createElement(N,D({svgRef:t},e))});n.p;function T(){return(T=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function z(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var A=a.a.createElement("path",{d:"M98.069,3.567C5.46-26.087-29.4,137.675,46.545,179.472c52.597,28.947,111.642-3.116,132.632-54.666 C200.722,71.894,164.031-13.013,98.069,3.567z M161.591,42.214c-3.967-3.02-8.014-5.806-11.332-8.391 c-7.941-6.187-16.005-12.354-24.243-18.218C141.375,20.209,153.354,29.763,161.591,42.214z M115.303,13.258 c10.333,8.188,20.959,15.974,31.097,24.424c7.915,6.597,15.195,15.814,23.648,21.821c1.244,3.588,2.283,7.278,3.052,11.069 c-23.456-20.225-49.009-37.958-72.715-57.903C105.62,12.399,110.586,12.622,115.303,13.258z M40.331,163.69 c-13-10.231-20.536-24.626-24.059-40.328c6.923,8.747,14.194,17.215,21.562,25.593c7.937,9.026,16.21,18.99,25.504,27.161 C55.279,173.417,47.504,169.336,40.331,163.69z M72.798,178.633c-8.611-10.354-19.515-19.269-28.876-28.932 c-10.121-10.447-19.496-21.515-28.851-32.631c-1.071-6.915-1.404-14.003-1.149-21.039c28.021,27.594,53.474,59.775,85.003,83.329 C90.264,180.519,81.438,180.338,72.798,178.633z M105.705,178.176c-29.979-28.74-60.329-57.841-91.609-85.21 c0.266-4.357,0.789-8.668,1.476-12.904c35.773,29.263,67.896,61.728,99.427,95.528 C111.946,176.622,108.844,177.492,105.705,178.176z M120.729,173.399c-0.105-0.187-0.167-0.377-0.324-0.556 c-31.128-35.203-66.709-67.771-104.238-96.181c0.699-3.685,1.552-7.281,2.535-10.771c36.152,35.017,73.577,68.716,109.643,103.838 C125.855,171.065,123.326,172.312,120.729,173.399z M132.975,167.063c-0.112-0.349-0.295-0.693-0.569-1.022 c-32.123-38.68-74.338-70.367-113.032-102.464c1.428-4.646,3.179-9.042,5.186-13.201c13.153,21.709,36.624,39.021,55.464,55.098 c20.847,17.79,41.538,37.476,63.608,53.806C140.259,162.137,136.708,164.758,132.975,167.063z M147.791,155.52 c-15.854-19.474-40.057-34.427-59.463-49.803C65.788,87.857,45.75,68.654,25.566,48.418c1.828-3.552,3.885-6.88,6.117-10.009 c19.169,16.599,39.098,32.292,58.7,48.375c23.146,18.992,42.916,40.489,64.581,60.803 C152.711,150.376,150.344,153.054,147.791,155.52z M164.232,133.485c-1.715,3.344-3.695,6.481-5.808,9.502 c-14.605-21.992-38.959-39.271-59.25-55.373c-21.82-17.314-44.458-33.547-66.1-51.08c3.109-4.086,6.583-7.736,10.353-10.948 C79.883,61.98,120.45,95.092,159.494,128.563c2.947,2.527,7.057-1.443,4.302-4.303c-35.786-37.146-79.91-65.757-118.04-100.569 c2.91-2.257,6.009-4.216,9.248-5.922c20.675,15.953,41.714,31.41,62.055,47.802c19.695,15.871,35.688,34.224,53.81,51.34 C169.18,122.554,166.987,128.113,164.232,133.485z M172.924,108.711c-10.546-17.354-32.468-31.62-47.254-43.333 c-21.754-17.233-44.577-33.145-67.166-49.274c3.777-1.693,7.744-3.017,11.885-3.938c-0.008,0.369,0.147,0.742,0.584,0.994 c39.575,22.878,67.944,57.878,103.467,85.637C174.103,102.104,173.607,105.414,172.924,108.711z M73.293,11.617 c5.974-1.035,12.28-1.266,18.895-0.523c0.652,1.231,1.858,2.1,3.645,1.919c0.459-0.047,0.901-0.063,1.357-0.102 c24.702,23.525,51.958,44.16,77.302,66.991c0.363,3.774,0.511,7.599,0.414,11.452C143.021,63.272,111.516,30.345,73.293,11.617z"}),H=function(e){var t=e.svgRef,n=z(e,["svgRef"]);return a.a.createElement("svg",T({x:"0px",y:"0px",viewBox:"0 0 190.408 190.407",xmlSpace:"preserve",ref:t},n),A)},L=a.a.forwardRef(function(e,t){return a.a.createElement(H,T({svgRef:t},e))}),U=(n.p,n(19)),G=n.n(U),B=function(e){var t=e.innerClassName,n=Object(E.a)(e,["innerClassName"]),o=Object(r.useRef)(null),c=Object(r.useRef)(null),i=Xe(function(){var e=c.current,t=o.current,n=e.offsetHeight,r=e.offsetWidth,a=Math.min(n,r);t.style.width="".concat(a,"px"),t.style.height="".concat(a,"px"),t.style.fontSize="".concat(a/11,"px")},100);return Object(r.useEffect)(function(){return i(),window.addEventListener("resize",i),function(){return window.removeEventListener("resize",i)}},[]),a.a.createElement("div",Object.assign({},n,{ref:c}),a.a.createElement("div",{className:t,ref:o},n.children))};function F(){var e=Object(w.a)(["\n    &:hover {\n        cursor: pointer;      \n    }\n"]);return F=function(){return e},e}function W(){var e=Object(w.a)(["\n  display: grid;\n  font-size: ",";\n  grid-template: repeat(",", 1em) / repeat(",", 1em);\n"]);return W=function(){return e},e}function q(){var e=Object(w.a)(["\n    background: \n        linear-gradient(\n            "," ",", \n            transparent ",",\n            transparent 100%\n         ),\n        linear-gradient(\n            90deg, \n            "," ",",\n            transparent ",",\n            transparent 100%\n        ) 1em 1em;\n    \n    background-size: 1em 1em;\n    \n    border-right: "," solid ",";\n    border-bottom: "," solid ",";\n"]);return q=function(){return e},e}function V(){var e=Object(w.a)(["\n  @import url('https://fonts.googleapis.com/css?family=Roboto:300,400');\n  @import url('https://fonts.googleapis.com/css?family=Patrick+Hand');\n  body {\n    margin: 0;\n    padding: 0;\n    font-family: Roboto, sans-serif;\n  }\n  * {\n    box-sizing: border-box;\n  }\n"]);return V=function(){return e},e}var J={xl:1200,lg:992,md:768,sm:576},Y=Object.keys(J).reduce(function(e,t){return e[t]="(min-width: ".concat(J[t],"px)"),e},{}),Q={cellColor:"#d1d6ff",inkColor:"#2EABEC",greenInkColor:"#28a645",redInkColor:"#da3545",cellLineWidth:"1px",boardFontSize:"36px",boardSize:h.boardSize,breakpointUp:Object(s.a)({},Y)},X=Object(l.b)(V()),K=l.d.div.withConfig({displayName:"styled__App",componentId:"bg7khl-0"})(["width:100vw;height:100vh;overflow:hidden;position:relative;padding:1rem;&:before{content:'';display:block;position:absolute;left:0;right:0;bottom:0;top:0;background-image:url(\"",'");z-index:-1;opacity:0.4;}'],G.a),Z=l.d.div.withConfig({displayName:"styled__Grid",componentId:"bg7khl-1"})(['display:grid;grid-gap:1rem;place-content:start center;width:100%;height:100%;max-width:900px;grid-template:"moveTimer  moveTimer     moveTimer" 100px "MyBoard    MoveIndicator OpponentBoard" 400px  /  1fr        min-content           1fr;@media all and (max-width:768px){grid-template:"MyBoard MyBoard" 2fr "MoveIndicator  moveTimer" min-content "OpponentBoard OpponentBoard" 3fr /  1fr 1fr;}']),$=l.d.div.withConfig({displayName:"styled__MoveIndicator",componentId:"bg7khl-2"})(["grid-area:MoveIndicator;place-self:center;transition:all .3s;transform-origin:center;transform:",";padding:0 1rem;&:before{content:'';display:inline-block;width:0;height:0;border-style:solid;border-width:50px 0 50px 50px;border-color:transparent transparent transparent ",";}@media all and (max-width:768px){&:before{transform:rotate(90deg);border-width:35px 0 35px 25px;}}"],function(e){return!e.shooter&&"rotate(180deg)"},Q.inkColor),ee=Object(l.c)(W(),Q.boardFontSize,Q.boardSize+1,Q.boardSize+1),te=Object(l.d)(function(e){return a.a.createElement(B,Object.assign({},e,{innerClassName:"inner"}),e.children)}).withConfig({displayName:"styled__Board",componentId:"bg7khl-3"})(["place-self:center;width:100%;height:100%;position:relative;& > .inner{position:absolute;left:50%;top:50%;transform:translate(-50%,-50%);",";","}"],function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Q.cellColor;return Object(l.c)(q(),e,Q.cellLineWidth,Q.cellLineWidth,e,Q.cellLineWidth,Q.cellLineWidth,Q.cellLineWidth,e,Q.cellLineWidth,e)}(),ee),ne=Object(l.d)(te).withConfig({displayName:"styled__MyBoard",componentId:"bg7khl-4"})(["grid-area:MyBoard;"]),re=Object(l.d)(te).withConfig({displayName:"styled__OpponentBoard",componentId:"bg7khl-5"})(["grid-area:OpponentBoard;"]),ae=Object(l.c)(F()),oe=Object(l.d)(function(e){e.x,e.y,e.w,e.h;var t=Object(E.a)(e,["x","y","w","h"]);return a.a.createElement("div",t)}).attrs(function(e){var t=e.x,n=e.y,r=e.w,a=e.h;return{style:{gridArea:"".concat(n," / ").concat(t," / ").concat(n+a," / ").concat(t+r)}}}).withConfig({displayName:"styled__Cell",componentId:"bg7khl-6"})(["width:100%;height:100%;svg{display:block;}"]),ce=Object(l.d)(function(e){return a.a.createElement(oe,e,a.a.createElement(k,{className:"aim-cell__svg"}))}).withConfig({displayName:"styled__AimCell",componentId:"bg7khl-7"})(["",";transition:all .1s;display:flex;align-items:center;justify-content:center;.aim-cell__svg{opacity:0;transition:all .2s;width:80%;height:80%;display:block;position:relative;left:1px;top:1px;path{fill:#35d494;}}&:hover .aim-cell__svg{opacity:1;animation:heartbeat 1.5s ease-in-out infinite both;}@keyframes heartbeat{from{transform:scale(1);transform-origin:center center;animation-timing-function:ease-out;}10%{transform:scale(0.91);animation-timing-function:ease-in;}17%{transform:scale(0.98);animation-timing-function:ease-out;}33%{transform:scale(0.87);animation-timing-function:ease-in;}45%{transform:scale(1);animation-timing-function:ease-out;}}"],ae),ie=Object(l.d)(function(e){return a.a.createElement(oe,e,a.a.createElement(M,{className:"hit-cell__svg"}))}).withConfig({displayName:"styled__ShipCell",componentId:"bg7khl-8"})([".hit-cell__svg{width:100%;height:100%;path{fill:","}}"],Q.inkColor),le=Object(l.d)(ie).withConfig({displayName:"styled__ShipPlacementCell",componentId:"bg7khl-9"})(["",";opacity:.15;transition:all .2s;&:hover{opacity:.6;}"],ae),se=Object(l.d)(function(e){return a.a.createElement(oe,e,a.a.createElement(M,{className:"hit-cell__svg"}))}).withConfig({displayName:"styled__ShotHitCell",componentId:"bg7khl-10"})(["position:relative;overflow:hidden;&:after,&:before{content:'';position:absolute;top:-25%;bottom:-25%;left:50%;width:2px;background-color:#ff6464;}&:before{transform:translateX(-50%) rotate(45deg);}&:after{transform:translateX(-50%) rotate(-45deg);}.hit-cell__svg{width:100%;height:100%;path{fill:","}}"],Q.inkColor),ue=Object(l.d)(se).withConfig({displayName:"styled__ShipDieCell",componentId:"bg7khl-11"})(["opacity:0.3;"]),pe=Object(l.d)(function(e){return a.a.createElement(oe,e,a.a.createElement(L,{className:"miss-cell__svg"}))}).withConfig({displayName:"styled__ShotMissCell",componentId:"bg7khl-12"})(["position:relative;overflow:hidden;display:flex;align-items:center;justify-content:center;.miss-cell__svg{display:block;width:.4em;height:.4em;path{fill:","}}"],Q.inkColor),me=Object(l.d)(oe).withConfig({displayName:"styled__LetterCell",componentId:"bg7khl-13"})(["display:flex;align-items:center;justify-content:center;font-family:'Patrick Hand',cursive;color:",";user-select:none;&:hover{cursor:default;}"],Q.inkColor),de=n(65),fe=n.n(de),he={initialServer:1,waitingServer:2,waitingClient:3,shipPlacement:4,active:5,end:6,connectError:7},ve="startShipsPlacement",ye="startGame",ge="opponentShoot",be="assignShooter",Oe="playerInit",Se="knockToRoom",je="placementDone",Ee="shoot",we="leaveRoom",Ce={placeShip:"placeShip",opponentShoot:"opponentShoot"},Ie=function(e){return{type:"SET_NOT_DISTRIBUTED_SHIPS",payload:{ships:e}}},_e=function(e){return qe.subscribe(Ce.opponentShoot,e.catchShoot),{type:"ADD_PLAYER_SHIP",payload:{ship:e}}},xe=function(e){return{type:"UPDATE_PLAYER_SHIP",payload:{ship:e}}},ke=function(e){return{type:"SET_CURRENT",payload:{ship:e}}},De=function(e){return{type:"ADD_SHOT_TO_MAP",payload:{shots:e}}},Pe=function(e){return{type:"ADD_OPPONENT_SHOT_TO_MAP",payload:{shot:e}}},Re=function(e){return{type:"ASSIGN_SHOOTER",payload:{iAmShooter:e}}},Ne=function(e){return{type:"TOGGLE_OPPONENT_DISCONNECTED_MODAL",payload:{isOpen:e}}},Me=function(e){return{type:"SET_ROOM_SETTINGS",payload:{settings:e}}},Te=function(e){return{type:"SET_GAME_STATUS",payload:{status:e}}},ze=function(){return{type:"RESET_STATE"}},Ae=function(){function e(t,n){var r=this;Object(u.a)(this,e),this.catchShoot=function(t,n){if(r.hasPart(t,n)&&r.parts["".concat(t,";").concat(n)].type===e.types.ship){if(r.parts["".concat(t,";").concat(n)].type=e.types.hit,r.isDie())for(var a in r.parts)r.parts[a].type=e.types.kill;return r.dispatch(xe(r)),r.parts["".concat(t,";").concat(n)].type}},this.id=fe()(),this.parts={},this.dispatch=n||Function.prototype,this.length=1,t&&(this.pos=t)}return Object(p.a)(e,[{key:"hasPart",value:function(e,t){return this.parts.hasOwnProperty("".concat(e,";").concat(t))}},{key:"isDie",value:function(){for(var t in this.parts)if(this.parts[t].type!==e.types.hit)return!1;return!0}},{key:"pos",set:function(t){var n=t.x,r=t.y,a=t.direction;if(Fe(n)&&Fe(r)&&void 0!==a)for(var o={x:n,y:r},c=0;c<this.length;c++){var i=a?o.x:o.x+c,l=a?o.y+c:o.y,s="".concat(this.id,"_").concat(c+1);this.parts["".concat(i,";").concat(l)]={x:i,y:l,id:s,type:e.types.ship}}}}]),e}();Ae.types={ship:"ship",hit:"hit",kill:"kill"},Ae.recreate=function(e,t){var n=new Ae(null,t);for(var r in n.id=e.id,e.parts)n.parts[r]={},n.parts[r].x=e.parts[r].x,n.parts[r].y=e.parts[r].y,n.parts[r].type=Ae.types[e.parts[r].type];return n.length=Object.keys(e.parts).length,n};var He=function(e){function t(){var e,n;Object(u.a)(this,t);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(n=Object(m.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(a)))).length=1,n}return Object(f.a)(t,e),t}(Ae),Le=function(e){function t(){var e,n;Object(u.a)(this,t);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(n=Object(m.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(a)))).length=2,n}return Object(f.a)(t,e),t}(Ae),Ue=function(e){function t(){var e,n;Object(u.a)(this,t);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(n=Object(m.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(a)))).length=3,n}return Object(f.a)(t,e),t}(Ae),Ge=function(e){function t(){var e,n;Object(u.a)(this,t);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(n=Object(m.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(a)))).length=4,n}return Object(f.a)(t,e),t}(Ae);function Be(e,t){return t.split(".").reduce(function(e,t){return e&&void 0!==e[t]?e[t]:void 0},e)}function Fe(e){return!isNaN(parseFloat(e))&&isFinite(e)}var We=function(e,t,n){return t<e&&e<n};var qe=new function(){this.callbacks=Object.create(null),this.subscribe=function(e,t){var n=this;return this.callbacks[e]=this.callbacks[e]||[],this.callbacks[e].push(t),function(){n.callbacks[e]=n.callbacks[e].filter(function(e){return e!==t})}},this.emit=function(e,t){var n=this.callbacks[e];if(n&&n.length)return n.map(function(e){return"function"===typeof e&&e.apply(null,t)})}},Ve=function(e){return function(t,n,r){return r=r||Function.prototype,t.map(function(t,o){var c="function"===typeof e?e(t.x,t.y):t,i=c.x,l=c.y,s=n(t);return a.a.createElement(s,{key:t.id||o,x:i,y:l,w:1,h:1,onClick:function(){return r(t.x,t.y)}},t.content)})}},Je=Ve(function(e,t){return{x:e+1,y:t+1}}),Ye=Ve(function(e,t){return{x:e+2,y:t+2}}),Qe=function(e){var t=function(e){switch(e.type){case Ae.types.kill:return ue;case Ae.types.hit:return se;case Ae.types.ship:default:return ie}};return e.map(function(e){return Ye(Object.values(e.parts),t)})},Xe=function(e,t){var n=null;return function(){for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];clearTimeout(n),n=setTimeout(function(){e.apply(void 0,a)},t)}},Ke=function(){var e=[],t=h.boardSize;return{addRule:function(t){e.push(t)},validate:function(n,r,a){for(var o=0,c=e;o<c.length;o++)if(!(0,c[o])({coords:n,boardSize:t,field:a,shipToPlace:r}))return!1;return!0}}}();Ke.addRule(function(e){var t=e.coords,n=e.field;return!n["".concat(t.x,";").concat(t.y)]&&!n["".concat(t.x+1,";").concat(t.y+1)]&&!n["".concat(t.x+1,";").concat(t.y-1)]&&!n["".concat(t.x-1,";").concat(t.y+1)]&&!n["".concat(t.x-1,";").concat(t.y-1)]&&!n["".concat(t.x-1,";").concat(t.y)]&&!n["".concat(t.x+1,";").concat(t.y)]&&!n["".concat(t.x,";").concat(t.y-1)]&&!n["".concat(t.x,";").concat(t.y+1)]}),Ke.addRule(function(e){var t=e.boardSize,n=e.shipToPlace,r=e.coords;return n.checkDirection()?t>=n.length+r.x:t>=n.length+r.y});var Ze=n(22),$e=n(41),et=n.n($e),tt=n(66),nt=n.n(tt),rt=n(67),at=new(function(){function e(t){var n=this;Object(u.a)(this,e),this._restoreGameHistory=function(){try{return JSON.parse(localStorage.getItem("game_save"))}catch(e){return console.error(e),!1}},this.connectToRoom=function(e){var t=e.roomID,r=(e.playerID,e.reconnectingPlayerID),a=Object(E.a)(e,["roomID","playerID","reconnectingPlayerID"]);return n._knockToRoom(t,r,a.password).then(function(e){return Be(e=Object(s.a)({},e,a),"reconnect")&&n.restoreGame(e),e})},this.apiUrl=t,this.events=[],this.restoreGame=Function.prototype}return Object(p.a)(e,[{key:"_initSocketConnection",value:function(){var e=this,t=nt()(this.apiUrl);return new Promise(function(n){t.on("connect",function(){e.socket=t,n(e.socket)})})}},{key:"_subscribeSocketToEvents",value:function(){var e=this;return this.events.length?(this.events.forEach(function(t){t.eventName&&t.eventHandler&&e.socket.on(t.eventName,t.eventHandler)}),Promise.resolve()):Promise.resolve()}},{key:"_playerInit",value:function(e){var t=this;return new Promise(function(n,r){t.socket.emit(Oe,{playerID:e},function(t){return t?n(e):r(new Error("playerInit returns false"))})})}},{key:"_knockToRoom",value:function(e,t,n){var r=this;return new Promise(function(a,o){r.socket.emit(Se,{roomID:e,password:n,reconnectingPlayerID:t},function(e){Be(e,"error")?o(new Error(e.error)):a(e)})})}},{key:"createPlayer",value:function(){return et.a.get("".concat(this.apiUrl,"/create-player")).then(function(e){var t=e.data;if(!t.error&&Be(t,"data.playerID"))return t.data.playerID;throw new Error("create player request failed")}).catch(function(e){return console.error(e)})}},{key:"initConnection",value:function(){var e,t=this,n=Object(rt.parse)(window.location.search).roomID,r=this._restoreGameHistory();return this._initSocketConnection().then(function(){return t._subscribeSocketToEvents()}).then(function(){return t.createPlayer()}).then(function(e){return t._playerInit(e)}).then(function(a){return e=a,r?t.connectToRoom({playerID:a,roomID:r.roomID,reconnectingPlayerID:r.playerID}):n?t.connectToRoom({roomID:n,playerID:a}):Promise.resolve({playerID:a,gameStatus:he.initialServer})}).catch(function(t){return console.error(t),Promise.reject({playerID:e})})}},{key:"createRoom",value:function(e,t){return et.a.post("".concat(this.apiUrl,"/create-room"),{playerID:t,settings:e}).then(function(e){return e.data}).then(function(e){var t=e.error,n=e.data;return t||!n.roomID?Promise.reject(new Error("Create room failed")):Promise.resolve(n.roomID)}).catch(function(e){return Promise.reject(e)})}},{key:"emitPlacementDone",value:function(e){var t=this;return new Promise(function(n,r){t.socket.emit(je,e,function(e){e?n():r(new Error("emitPlacementDone failure"))})}).catch(function(e){console.error(e)})}},{key:"emitShot",value:function(e,t){var n=Object(Ze.a)(e,2),r=n[0],a=n[1];this.socket.emit(Ee,[r,a],t)}},{key:"emitLeaveRoom",value:function(){var e=this;return new Promise(function(t){e.socket.connected?e.socket.emit(we,function(){return t(!0)}):t()})}}]),e}())(h.apiUrl),ot=new(function(){function e(){var t=this;Object(u.a)(this,e),this._playSound=function(e,n){e.volume=t.volume,e.play().catch(function(e){t._clearAudioQueue()}),n&&(e.onended=n)},this._playSoundQueue=function(){t.currentlyPlayed||function e(){t.queue.length?(t.currentlyPlayed=t.queue.pop(),t._playSound(t.currentlyPlayed,function(){return e()})):t.currentlyPlayed=null}()},this._addToQueue=function(e){t.queue.unshift(e)},this.queue=[],this.currentlyPlayed=null,this.volume=.5}return Object(p.a)(e,[{key:"_clearAudioQueue",value:function(){this.queue.length=0}},{key:"play",value:function(e){e&&(this._addToQueue(e),this._playSoundQueue())}}]),e}()),ct=n(68),it=n.n(ct),lt=n(69),st=n.n(lt),ut=n(70),pt=n.n(ut),mt=new function e(){var t=this;Object(u.a)(this,e),this.addSound=function(e,n){return t.sounds[e]||(t.sounds[e]=[]),t.sounds[e].push(new Audio(n)),t},this.getRandomWithType=function(e){var n=t.sounds[e];if(n)return n[Math.floor(Math.random()*n.length)]},this.getIndexWithType=function(e,n){if(t.sounds[e])return t.sounds[e][n]},this.sounds={}};mt.addSound("miss",it.a).addSound("miss",st.a).addSound("hit",pt.a);var dt=mt,ft=n(4),ht=n.n(ft),vt=n(29),yt=n.n(vt);function gt(){var e=Object(w.a)(["\n  grid-area: moveTimer;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  font-size: 36px;\n  font-weight: 300;\n    @media all and (max-width: 768px) {\n        font-size: 26px; \n    }\n"]);return gt=function(){return e},e}var bt=function(e){function t(e){var n;return Object(u.a)(this,t),(n=Object(m.a)(this,Object(d.a)(t).call(this,e))).state={deadline:yt.a.duration(n.props.deadline)},n.intervalID=null,n}return Object(f.a)(t,e),Object(p.a)(t,[{key:"componentDidMount",value:function(){this.init()}},{key:"componentWillUnmount",value:function(){clearInterval(this.intervalID)}},{key:"init",value:function(){var e=this;this.intervalID=setInterval(function(){var t=e.state.deadline.clone();e.state.deadline.seconds()>0?(t.subtract(1,"s"),e.setState({deadline:t})):clearInterval(e.intervalID)},1e3)}},{key:"render",value:function(){var e=this.state.deadline;return a.a.createElement("div",{className:this.props.className},e.minutes(),":",e.seconds())}}]),t}(r.Component),Ot=Object(l.d)(bt)(gt());Ot.propTypes={deadline:ht.a.number.isRequired};var St=Ot;function jt(){return(jt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Et(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var wt=a.a.createElement("path",{d:"M454.2,189.101l-33.6-5.7c-3.5-11.3-8-22.2-13.5-32.6l19.8-27.7c8.4-11.8,7.1-27.9-3.2-38.1l-29.8-29.8 c-5.6-5.6-13-8.7-20.9-8.7c-6.2,0-12.1,1.9-17.1,5.5l-27.8,19.8c-10.8-5.7-22.1-10.4-33.8-13.9l-5.6-33.2 c-2.4-14.3-14.7-24.7-29.2-24.7h-42.1c-14.5,0-26.8,10.4-29.2,24.7l-5.8,34c-11.2,3.5-22.1,8.1-32.5,13.7l-27.5-19.8 c-5-3.6-11-5.5-17.2-5.5c-7.9,0-15.4,3.1-20.9,8.7l-29.9,29.8c-10.2,10.2-11.6,26.3-3.2,38.1l20,28.1 c-5.5,10.5-9.9,21.4-13.3,32.7l-33.2,5.6c-14.3,2.4-24.7,14.7-24.7,29.2v42.1c0,14.5,10.4,26.8,24.7,29.2l34,5.8 c3.5,11.2,8.1,22.1,13.7,32.5l-19.7,27.4c-8.4,11.8-7.1,27.9,3.2,38.1l29.8,29.8c5.6,5.6,13,8.7,20.9,8.7c6.2,0,12.1-1.9,17.1-5.5 l28.1-20c10.1,5.3,20.7,9.6,31.6,13l5.6,33.6c2.4,14.3,14.7,24.7,29.2,24.7h42.2c14.5,0,26.8-10.4,29.2-24.7l5.7-33.6 c11.3-3.5,22.2-8,32.6-13.5l27.7,19.8c5,3.6,11,5.5,17.2,5.5l0,0c7.9,0,15.3-3.1,20.9-8.7l29.8-29.8c10.2-10.2,11.6-26.3,3.2-38.1 l-19.8-27.8c5.5-10.5,10.1-21.4,13.5-32.6l33.6-5.6c14.3-2.4,24.7-14.7,24.7-29.2v-42.1 C478.9,203.801,468.5,191.501,454.2,189.101z M451.9,260.401c0,1.3-0.9,2.4-2.2,2.6l-42,7c-5.3,0.9-9.5,4.8-10.8,9.9 c-3.8,14.7-9.6,28.8-17.4,41.9c-2.7,4.6-2.5,10.3,0.6,14.7l24.7,34.8c0.7,1,0.6,2.5-0.3,3.4l-29.8,29.8c-0.7,0.7-1.4,0.8-1.9,0.8 c-0.6,0-1.1-0.2-1.5-0.5l-34.7-24.7c-4.3-3.1-10.1-3.3-14.7-0.6c-13.1,7.8-27.2,13.6-41.9,17.4c-5.2,1.3-9.1,5.6-9.9,10.8l-7.1,42 c-0.2,1.3-1.3,2.2-2.6,2.2h-42.1c-1.3,0-2.4-0.9-2.6-2.2l-7-42c-0.9-5.3-4.8-9.5-9.9-10.8c-14.3-3.7-28.1-9.4-41-16.8 c-2.1-1.2-4.5-1.8-6.8-1.8c-2.7,0-5.5,0.8-7.8,2.5l-35,24.9c-0.5,0.3-1,0.5-1.5,0.5c-0.4,0-1.2-0.1-1.9-0.8l-29.8-29.8 c-0.9-0.9-1-2.3-0.3-3.4l24.6-34.5c3.1-4.4,3.3-10.2,0.6-14.8c-7.8-13-13.8-27.1-17.6-41.8c-1.4-5.1-5.6-9-10.8-9.9l-42.3-7.2 c-1.3-0.2-2.2-1.3-2.2-2.6v-42.1c0-1.3,0.9-2.4,2.2-2.6l41.7-7c5.3-0.9,9.6-4.8,10.9-10c3.7-14.7,9.4-28.9,17.1-42 c2.7-4.6,2.4-10.3-0.7-14.6l-24.9-35c-0.7-1-0.6-2.5,0.3-3.4l29.8-29.8c0.7-0.7,1.4-0.8,1.9-0.8c0.6,0,1.1,0.2,1.5,0.5l34.5,24.6 c4.4,3.1,10.2,3.3,14.8,0.6c13-7.8,27.1-13.8,41.8-17.6c5.1-1.4,9-5.6,9.9-10.8l7.2-42.3c0.2-1.3,1.3-2.2,2.6-2.2h42.1 c1.3,0,2.4,0.9,2.6,2.2l7,41.7c0.9,5.3,4.8,9.6,10,10.9c15.1,3.8,29.5,9.7,42.9,17.6c4.6,2.7,10.3,2.5,14.7-0.6l34.5-24.8 c0.5-0.3,1-0.5,1.5-0.5c0.4,0,1.2,0.1,1.9,0.8l29.8,29.8c0.9,0.9,1,2.3,0.3,3.4l-24.7,34.7c-3.1,4.3-3.3,10.1-0.6,14.7 c7.8,13.1,13.6,27.2,17.4,41.9c1.3,5.2,5.6,9.1,10.8,9.9l42,7.1c1.3,0.2,2.2,1.3,2.2,2.6v42.1H451.9z"}),Ct=a.a.createElement("path",{d:"M239.4,136.001c-57,0-103.3,46.3-103.3,103.3s46.3,103.3,103.3,103.3s103.3-46.3,103.3-103.3S296.4,136.001,239.4,136.001 z M239.4,315.601c-42.1,0-76.3-34.2-76.3-76.3s34.2-76.3,76.3-76.3s76.3,34.2,76.3,76.3S281.5,315.601,239.4,315.601z"}),It=function(e){var t=e.svgRef,n=Et(e,["svgRef"]);return a.a.createElement("svg",jt({x:"0px",y:"0px",viewBox:"0 0 478.703 478.703",style:{enableBackground:"new 0 0 478.703 478.703"},xmlSpace:"preserve",ref:t},n),wt,Ct)},_t=a.a.forwardRef(function(e,t){return a.a.createElement(It,jt({svgRef:t},e))}),xt=(n.p,l.d.div.withConfig({displayName:"TopDrawer__Outer",componentId:"v29981-0"})(["position:fixed;left:0;right:0;bottom:0;top:0;transition:all .3s;background-color:",";z-index:1000;"],function(e){return e.opened?"rgba(0, 0, 0, .7)":"transparent"})),kt=l.d.button.withConfig({displayName:"TopDrawer__Opener",componentId:"v29981-1"})(["position:fixed;top:10px;right:10px;border:none;background-color:transparent;padding:5px;z-index:1001;&:focus{outline:none;}&:hover{cursor:pointer;}svg{width:30px;height:30px;display:block;path{transition:all .7s;fill:","}}"],function(e){return e.opened?"#b6bcff":"#4467ff"}),Dt=function(e){function t(e){var n;return Object(u.a)(this,t),(n=Object(m.a)(this,Object(d.a)(t).call(this,e))).toggleOpen=function(e){n.setState({opened:void 0!==e?e:!n.state.opened,shown:!0===e||!0===!n.state.opened||n.state.shown},function(){return n.transition(n.state.opened)})},n.transition=function(e){var r=n.outerRef.current,a=n.innerRef.current;e?(r.style.opacity=0,r.style.display="block",a.style.transform=t.transforms.closed,requestAnimationFrame(function(){return requestAnimationFrame(function(){r.style.opacity=1,a.style.transform=t.transforms.opened})})):a.style.transform=t.transforms.closed},n.toggleShown=function(){n.state.opened||n.setState({shown:!1})},n.state={opened:!1,shown:!1},n.outerRef=a.a.createRef(),n.innerRef=a.a.createRef(),n.Inner=Object(l.d)(n.props.Inner).withConfig({displayName:"TopDrawer__Inner",componentId:"v29981-2"})(["position:absolute;left:50%;top:0;transition:all .3s;"]),n}return Object(f.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){var e=this,t=this.state,n=t.opened,r=t.shown,o=this.Inner;return c.a.createPortal(a.a.createElement(a.a.Fragment,null,r&&a.a.createElement(xt,{opened:n,ref:this.outerRef,onClick:function(){return e.toggleOpen(!1)}},a.a.createElement(o,{ref:this.innerRef,opened:n,onTransitionEnd:Xe(function(){return e.toggleShown()},100),onClick:function(e){return e.stopPropagation()}},this.props.children)),a.a.createElement(kt,{opened:n,onClick:function(){return e.toggleOpen()}},a.a.createElement(_t,null))),document.querySelector("#root"))}}],[{key:"transforms",get:function(){return{closed:"translateX(-50%) translateY(-100%)",opened:"translateX(-50%) translateY(0)"}}}]),t}(r.Component);function Pt(){return(Pt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Rt(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var Nt=a.a.createElement("path",{d:"M28.404,3.413c-0.976-0.552-2.131-0.534-3.09,0.044c-0.046,0.027-0.09,0.059-0.13,0.093L11.634,15.013H1 c-0.553,0-1,0.447-1,1v19c0,0.266,0.105,0.52,0.293,0.707S0.734,36.013,1,36.013l10.61-0.005l13.543,12.44 c0.05,0.046,0.104,0.086,0.161,0.12c0.492,0.297,1.037,0.446,1.582,0.446c0.517-0.001,1.033-0.134,1.508-0.402 C29.403,48.048,30,47.018,30,45.857V6.169C30,5.008,29.403,3.978,28.404,3.413z M28,45.857c0,0.431-0.217,0.81-0.579,1.015 c-0.155,0.087-0.548,0.255-1,0.026L13,34.569v-4.556c0-0.553-0.447-1-1-1s-1,0.447-1,1v3.996l-9,0.004v-17h9v4c0,0.553,0.447,1,1,1 s1-0.447,1-1v-4.536l13.405-11.34c0.461-0.242,0.86-0.07,1.016,0.018C27.783,5.36,28,5.739,28,6.169V45.857z"}),Mt=a.a.createElement("path",{d:"M38.797,7.066c-0.523-0.177-1.091,0.103-1.269,0.626c-0.177,0.522,0.103,1.091,0.626,1.269 c7.101,2.411,11.872,9.063,11.872,16.553c0,7.483-4.762,14.136-11.849,16.554c-0.522,0.178-0.802,0.746-0.623,1.27 c0.142,0.415,0.53,0.677,0.946,0.677c0.107,0,0.216-0.017,0.323-0.054c7.896-2.693,13.202-10.106,13.202-18.446 C52.026,17.166,46.71,9.753,38.797,7.066z"}),Tt=a.a.createElement("path",{d:"M43.026,25.513c0-5.972-4.009-11.302-9.749-12.962c-0.533-0.151-1.084,0.152-1.238,0.684 c-0.153,0.53,0.152,1.085,0.684,1.238c4.889,1.413,8.304,5.953,8.304,11.04s-3.415,9.627-8.304,11.04 c-0.531,0.153-0.837,0.708-0.684,1.238c0.127,0.438,0.526,0.723,0.961,0.723c0.092,0,0.185-0.013,0.277-0.039 C39.018,36.815,43.026,31.485,43.026,25.513z"}),zt=function(e){var t=e.svgRef,n=Rt(e,["svgRef"]);return a.a.createElement("svg",Pt({x:"0px",y:"0px",viewBox:"0 0 52.026 52.026",xmlSpace:"preserve",ref:t},n),Nt,Mt,Tt)},At=a.a.forwardRef(function(e,t){return a.a.createElement(zt,Pt({svgRef:t},e))});n.p;function Ht(){return(Ht=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Lt(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var Ut=a.a.createElement("path",{d:"M46.414,26l7.293-7.293c0.391-0.391,0.391-1.023,0-1.414s-1.023-0.391-1.414,0L45,24.586l-7.293-7.293 c-0.391-0.391-1.023-0.391-1.414,0s-0.391,1.023,0,1.414L43.586,26l-7.293,7.293c-0.391,0.391-0.391,1.023,0,1.414 C36.488,34.902,36.744,35,37,35s0.512-0.098,0.707-0.293L45,27.414l7.293,7.293C52.488,34.902,52.744,35,53,35 s0.512-0.098,0.707-0.293c0.391-0.391,0.391-1.023,0-1.414L46.414,26z"}),Gt=a.a.createElement("path",{d:"M28.404,4.4c-0.975-0.552-2.131-0.534-3.09,0.044c-0.046,0.027-0.09,0.059-0.13,0.093L11.634,16H1c-0.553,0-1,0.447-1,1v19 c0,0.266,0.105,0.52,0.293,0.707S0.734,37,1,37l10.61-0.005l13.543,12.44c0.05,0.046,0.104,0.086,0.161,0.12 c0.492,0.297,1.037,0.446,1.582,0.446c0.517-0.001,1.033-0.134,1.508-0.402C29.403,49.035,30,48.005,30,46.844V7.156 C30,5.995,29.403,4.965,28.404,4.4z M28,46.844c0,0.431-0.217,0.81-0.579,1.015c-0.155,0.087-0.548,0.255-1,0.026L13,35.556V31 c0-0.553-0.447-1-1-1s-1,0.447-1,1v3.996L2,35V18h9v4c0,0.553,0.447,1,1,1s1-0.447,1-1v-4.536l13.405-11.34 c0.46-0.242,0.86-0.07,1.016,0.018C27.783,6.347,28,6.725,28,7.156V46.844z"}),Bt=function(e){var t=e.svgRef,n=Lt(e,["svgRef"]);return a.a.createElement("svg",Ht({x:"0px",y:"0px",viewBox:"0 0 54 54",style:{enableBackground:"new 0 0 54 54"},xmlSpace:"preserve",ref:t},n),Ut,Gt)},Ft=a.a.forwardRef(function(e,t){return a.a.createElement(Bt,Ht({svgRef:t},e))}),Wt=(n.p,Object(l.d)(function(e){var t=e.volume,n=Object(E.a)(e,["volume"]);return a.a.createElement("div",n,t?a.a.createElement(At,null):a.a.createElement(Ft,null))}).withConfig({displayName:"VolumeSetting__VolumeButton",componentId:"sc-1dw3z2-0"})(["width:35px;height:35px;&:hover{cursor:pointer;}svg{width:100%;height:100%;path{fill:","}}"],function(e){return e.volume?"#8187ff":"#ff7172"})),qt=function(e){var t=Object(r.useState)(.5),n=Object(Ze.a)(t,2),o=n[0],c=n[1],i=Object(r.useState)(null),l=Object(Ze.a)(i,2),s=l[0],u=l[1],p=Xe(function(t){e.update(t/100)},100);return a.a.createElement(a.a.Fragment,null,a.a.createElement(Wt,{volume:e.volume,onClick:function(){o?(c(0),u(o),e.update(0)):(c(s),e.update(s))}}),a.a.createElement("input",{type:"range",min:"0",max:"100",onChange:function(e){e.persist(),c(e.target.value/100),p(e.target.value)},value:100*o}))},Vt=l.d.div.withConfig({displayName:"SettingsPanel__DrawerInner",componentId:"bz9tj-0"})(['padding:1rem;background-image:url("','");background-size:100%;border-radius:0 0 5px 5px;display:grid;grid-template-columns:min-content auto;align-items:center;grid-gap:1rem;'],G.a),Jt=function(e){function t(){return Object(u.a)(this,t),Object(m.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){var e=this;return a.a.createElement(Dt,{Inner:Vt},a.a.createElement(qt,{volume:this.props.volume,update:function(t){return e.props.dispatch(function(e){return{type:"SET_VOLUME",payload:{volume:e}}}(t))}}))}}]),t}(r.Component),Yt=Object(i.b)(function(e){return{volume:e.volume}})(Jt),Qt=n(20),Xt=n.n(Qt),Kt=function(e){return function(t){function n(e){var t;return Object(u.a)(this,n),(t=Object(m.a)(this,Object(d.a)(n).call(this,e))).toObject=function(e){return{seconds:e.seconds(),minutes:e.minutes(),hours:e.hours()}},t.state={deadline:yt.a.duration(t.props.deadline)},t.intervalID=null,t}return Object(f.a)(n,t),Object(p.a)(n,[{key:"componentDidMount",value:function(){this.init()}},{key:"componentWillUnmount",value:function(){clearInterval(this.intervalID)}},{key:"init",value:function(){var e=this;this.intervalID=setInterval(function(){var t=e.state.deadline.clone();e.state.deadline.seconds()>0?(t.subtract(1,"s"),e.setState({deadline:t})):clearInterval(e.intervalID)},1e3)}},{key:"render",value:function(){return a.a.createElement(e,Object.assign({},this.props,{timer:this.toObject(this.state.deadline)}))}}]),n}(r.Component)},Zt={overlay:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.65)",display:"flex",alignItems:"center",justifyContent:"center"},content:{position:"static",border:"none",backgroundImage:'url("'.concat(G.a,'")'),backgroundSize:"100%",overflow:"hidden",borderRadius:"4px",padding:"20px"}};Xt.a.setAppElement("#root");var $t=Kt(Object(l.d)(function(e){var t=e.timer,n=Object(E.a)(e,["timer"]);return a.a.createElement("div",n,a.a.createElement("span",null,t.minutes),":",a.a.createElement("span",null,t.seconds))}).withConfig({displayName:"OpponentDisconnectedModal__StyledTimer",componentId:"sc-1vx9t7b-0"})(["display:inline-block;font-weight:normal;"])),en=Object(i.b)(function(e){return{opponentDisconnectedModalOpen:e.opponentDisconnectedModalOpen,roomDestroyDeadline:e.roomDestroyDeadline}})(function(e){return a.a.createElement(Xt.a,{isOpen:e.opponentDisconnectedModalOpen,style:Zt},a.a.createElement("h2",null,"Opponent is disconnected"),a.a.createElement("h3",null,"Room will be removed after:",e.roomDestroyDeadline&&a.a.createElement($t,{deadline:e.roomDestroyDeadline})),a.a.createElement("button",{onClick:e.onConfirmLeaveRoom},"Leave room"))}),tn=n(5),nn=function(e){function t(e){var n;return Object(u.a)(this,t),(n=Object(m.a)(this,Object(d.a)(t).call(this,e))).handleSubmit=function(e){e.preventDefault(),at.createRoom(n.state,n.props.playerID)},n.handleInputChange=function(e){"checkbox"===e.target.type?n.setState(Object(tn.a)({},e.target.name,e.target.checked)):"number"===e.target.type?n.setState(Object(tn.a)({},e.target.name,Number(e.target.value))):n.setState(Object(tn.a)({},e.target.name,e.target.value))},n.state={name:"Default",password:"",privateRoom:!1},n}return Object(f.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){return a.a.createElement("form",{onSubmit:this.handleSubmit},a.a.createElement("div",{className:"form-group"},a.a.createElement("input",{name:"name",type:"text",className:"form-control",placeholder:"Room name",onChange:this.handleInputChange})),a.a.createElement("div",{className:"form-group form-check"},a.a.createElement("input",{name:"privateRoom",type:"checkbox",className:"form-check-input",id:"isPrivateRoom",checked:this.state.privateRoom,onChange:this.handleInputChange}),a.a.createElement("label",{className:"form-check-label",htmlFor:"isPrivateRoom"},"Private room")),this.state.privateRoom&&a.a.createElement("div",{className:"form-group"},a.a.createElement("input",{name:"password",type:"password",className:"form-control",placeholder:"Password",onChange:this.handleInputChange})),a.a.createElement("button",{type:"submit",className:"btn btn-primary"},"Create"))}}]),t}(r.Component),rn=Object(i.b)(function(e){return{playerID:Be(e,"settings.playerID")}})(nn);function an(){return(an=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function on(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var cn=a.a.createElement("path",{d:"M357.45,190.721c-5.331-5.33-11.8-7.993-19.417-7.993h-9.131v-54.821c0-35.022-12.559-65.093-37.685-90.218 C266.093,12.563,236.025,0,200.998,0c-35.026,0-65.1,12.563-90.222,37.688C85.65,62.814,73.091,92.884,73.091,127.907v54.821 h-9.135c-7.611,0-14.084,2.663-19.414,7.993c-5.33,5.326-7.994,11.799-7.994,19.417V374.59c0,7.611,2.665,14.086,7.994,19.417 c5.33,5.325,11.803,7.991,19.414,7.991H338.04c7.617,0,14.085-2.663,19.417-7.991c5.325-5.331,7.994-11.806,7.994-19.417V210.135 C365.455,202.523,362.782,196.051,357.45,190.721z M274.087,182.728H127.909v-54.821c0-20.175,7.139-37.402,21.414-51.675 c14.277-14.275,31.501-21.411,51.678-21.411c20.179,0,37.399,7.135,51.677,21.411c14.271,14.272,21.409,31.5,21.409,51.675V182.728 z"}),ln=function(e){var t=e.svgRef,n=on(e,["svgRef"]);return a.a.createElement("svg",an({x:"0px",y:"0px",viewBox:"0 0 401.998 401.998",xmlSpace:"preserve",ref:t},n),cn)},sn=a.a.forwardRef(function(e,t){return a.a.createElement(ln,an({svgRef:t},e))});n.p;function un(){return(un=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function pn(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var mn=a.a.createElement("path",{d:"M375.721,227.259c-5.331-5.331-11.8-7.992-19.417-7.992H146.176v-91.36c0-20.179,7.139-37.402,21.415-51.678 c14.277-14.273,31.501-21.411,51.678-21.411c20.175,0,37.402,7.137,51.673,21.411c14.277,14.276,21.416,31.5,21.416,51.678 c0,4.947,1.807,9.229,5.42,12.845c3.621,3.617,7.905,5.426,12.847,5.426h18.281c4.945,0,9.227-1.809,12.848-5.426 c3.606-3.616,5.42-7.898,5.42-12.845c0-35.216-12.515-65.331-37.541-90.362C284.603,12.513,254.48,0,219.269,0 c-35.214,0-65.334,12.513-90.366,37.544c-25.028,25.028-37.542,55.146-37.542,90.362v91.36h-9.135 c-7.611,0-14.084,2.667-19.414,7.992c-5.33,5.325-7.994,11.8-7.994,19.414v164.452c0,7.617,2.665,14.089,7.994,19.417 c5.33,5.325,11.803,7.991,19.414,7.991h274.078c7.617,0,14.092-2.666,19.417-7.991c5.325-5.328,7.994-11.8,7.994-19.417V246.673 C383.719,239.059,381.053,232.591,375.721,227.259z"}),dn=function(e){var t=e.svgRef,n=pn(e,["svgRef"]);return a.a.createElement("svg",un({x:"0px",y:"0px",viewBox:"0 0 438.533 438.533",xmlSpace:"preserve",ref:t},n),mn)},fn=a.a.forwardRef(function(e,t){return a.a.createElement(dn,un({svgRef:t},e))}),hn=(n.p,l.d.table.withConfig({displayName:"OnlineRooms__RoomsTable",componentId:"sc-1agybz7-0"})(["width:100%;text-align:center;"])),vn=l.d.span.withConfig({displayName:"OnlineRooms__VerticalAligned",componentId:"sc-1agybz7-1"})(["display:inline-block;vertical-align:middle;"]),yn=Object(l.d)(function(e){var t=e.isPrivate,n=Object(E.a)(e,["isPrivate"]),r=t?sn:fn;return a.a.createElement(r,n)}).withConfig({displayName:"OnlineRooms__StyledPrivateIcon",componentId:"sc-1agybz7-2"})(["width:15px;height:15px;display:inline-block;vertical-align:middle;margin-right:.5rem;path{fill:",";}"],function(e){return e.isPrivate?"#da3545":"#28a645"}),gn=Object(l.d)(function(e){e.width;var t=Object(E.a)(e,["width"]);return a.a.createElement("th",t)}).withConfig({displayName:"OnlineRooms__Col",componentId:"sc-1agybz7-3"})(["width:",";"],function(e){return e.width}),bn=function(e){function t(){var e,n;Object(u.a)(this,t);for(var r=arguments.length,o=new Array(r),c=0;c<r;c++)o[c]=arguments[c];return(n=Object(m.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(o)))).knockToRoomHandler=function(e,t){t&&(e.password=prompt("\u0414\u043b\u044f \u0434\u043e\u0441\u0442\u0443\u043f\u0430 \u043a \u043a\u043e\u043c\u043d\u0430\u0442\u0435 \u0432\u0432\u0435\u0434\u0438 \u043f\u0430\u0440\u043e\u043b\u044c")),at.connectToRoom(e).then(function(e){return n.roomEnteredHandler(e)}).catch(function(e){return console.error(e)})},n.roomEnteredHandler=function(e){var t=e.roomID,r=e.settings,a=n.props.dispatch;r.roomUrl="".concat(window.location.origin,"/?roomID=").concat(t),r.roomID=t,a(Me(r))},n.leaveRoomHandler=function(){at.emitLeaveRoom().then(function(){window.history.pushState(null,"Home",window.origin),n.props.dispatch(ze()),n.props.dispatch(Te(he.initialServer))})},n.leaveRoomButton=function(){return a.a.createElement("button",{type:"button",className:"btn btn-primary",onClick:function(){return n.leaveRoomHandler()}},"\u0412\u044b \u0437\u0434\u0435\u0441\u044c. \u0412\u044b\u0439\u0442\u0438")},n.knockToRoomButton=function(e,t,r){var o={roomID:e,playerID:t};return a.a.createElement("button",{type:"button",className:"btn btn-primary",onClick:function(){return n.knockToRoomHandler(o,r)}},"\u0412\u043e\u0439\u0442\u0438")},n.getRoomsRowsLayout=function(e){var t=n.props,r=t.roomID,o=t.playerID;return Object.values(e).map(function(e){return a.a.createElement("tr",{key:e.roomID},a.a.createElement("td",null,a.a.createElement(yn,{isPrivate:!!e.protected}),a.a.createElement(vn,null,e.name)),a.a.createElement("td",null,e.online,"/",e.size),a.a.createElement("td",null,r?r===e.roomID?n.leaveRoomButton():null:n.knockToRoomButton(e.roomID,o,e.protected)))})},n}return Object(f.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){var e=this.props.onlineRooms;return a.a.createElement(hn,{className:this.props.className+" table"},a.a.createElement("thead",null,a.a.createElement("tr",null,a.a.createElement(gn,{width:"25%",scope:"col"},"Room"),a.a.createElement(gn,{width:"25%",scope:"col"},"Online"),a.a.createElement(gn,{width:"50%",scope:"col"},"Actions"))),a.a.createElement("tbody",null,this.getRoomsRowsLayout(e)))}}]),t}(r.Component),On=Object(i.b)(function(e){return{onlineRooms:e.onlineRooms,roomID:Be(e,"settings.roomID"),playerID:Be(e,"settings.playerID")}})(bn);function Sn(){var e=Object(w.a)(["\n  &:not(:last-child) {\n    margin-right: 1rem;\n  }\n"]);return Sn=function(){return e},e}var jn=l.d.div.withConfig({displayName:"JoinRoomPage__Page",componentId:"f3udg1-0"})(["width:100%;height:100%;display:flex;flex-direction:column;justify-content:center;"]),En=l.d.div.withConfig({displayName:"JoinRoomPage__Flex",componentId:"f3udg1-1"})(["display:flex;justify-content:center;align-items:center;flex-direction:column;@media ","{flex-direction:row;align-items:flex-start;}"],function(e){return e.theme.breakpointUp.lg}),wn=Object(l.c)(Sn()),Cn=l.d.div.withConfig({displayName:"JoinRoomPage__StyledOnlineRooms",componentId:"f3udg1-2"})(["flex-grow:1;width:100%;"," @media ","{max-width:500px;}"],wn,function(e){return e.theme.breakpointUp.lg}),In=l.d.span.withConfig({displayName:"JoinRoomPage__Separator",componentId:"f3udg1-3"})(["font-weight:300;font-size:2rem;line-height:1.2;margin:3rem 0 1.5rem;@media ","{margin:0 3rem;}"],function(e){return e.theme.breakpointUp.lg}),_n=l.d.h1.withConfig({displayName:"JoinRoomPage__PageTitle",componentId:"f3udg1-4"})(["font-weight:300;text-align:center;margin-bottom:3rem;"]),xn=l.d.h2.withConfig({displayName:"JoinRoomPage__TableTitle",componentId:"f3udg1-5"})(["font-weight:300;margin-bottom:1.5rem;"]),kn=function(e){return a.a.createElement(jn,{className:"container"},a.a.createElement(_n,null,"Hello. This is sea-battle game. Enjoy ^_^"),a.a.createElement(En,null,a.a.createElement(Cn,null,a.a.createElement(xn,null,"You can join the existing rooms"),a.a.createElement(On,null)),a.a.createElement(In,null,"Or..."),a.a.createElement("div",null,a.a.createElement(xn,null,"Create your own!"),a.a.createElement(rn,null))))},Dn=n(74),Pn=n(71),Rn=n.n(Pn),Nn=(n(154),l.d.div.withConfig({displayName:"ShipPlacementPanel__Container",componentId:"bc459b-0"})(["display:grid;grid-template-rows:repeat(3,min-content);grid-gap:2rem;"])),Mn=l.d.div.withConfig({displayName:"ShipPlacementPanel__NotPlaced",componentId:"bc459b-1"})(["display:grid;grid-template-columns:min-content 1fr;grid-auto-rows:min-content;grid-gap:.5rem;"]),Tn=Object(l.d)(function(e){var t=e.size,n=(e.vertical,Object(E.a)(e,["size","vertical"]));return a.a.createElement("div",n,Object(Dn.a)(Array(t)).map(function(e,t){return a.a.createElement(ie,{className:"ship-cell",key:t})}))}).withConfig({displayName:"ShipPlacementPanel__Ship",componentId:"bc459b-2"})(["display:flex;width:",";transition:transform .2s;"],function(e){var t=e.size;return"".concat(t,"em")}),zn=Object(l.d)(Tn).withConfig({displayName:"ShipPlacementPanel__HoverShip",componentId:"bc459b-3"})(["&:hover{cursor:pointer;transform:scale(1.1);}"]),An=Object(l.d)(Tn).withConfig({displayName:"ShipPlacementPanel__CurrentShip",componentId:"bc459b-4"})(["font-size:30px;transform-origin:.5em .5em;transform:",";"],function(e){return e.vertical?"rotate(90deg)":""}),Hn=l.d.div.withConfig({displayName:"ShipPlacementPanel__Panel",componentId:"bc459b-5"})(["display:grid;grid-template-columns:min-content 1fr;grid-gap:1rem;align-items:center;"]),Ln=l.d.h2.withConfig({displayName:"ShipPlacementPanel__Title",componentId:"bc459b-6"})(["font-weight:300;font-size:1.5rem;line-height:1;margin-bottom:0;"]),Un=Object(l.d)(Rn.a).withConfig({displayName:"ShipPlacementPanel__StyledSwitch",componentId:"bc459b-7"})(["&&{border:none;background-color:",";}&.rc-switch-checked{border:none;background-color:",";}"],function(e){return e.theme.inkColor},function(e){return e.theme.greenInkColor}),Gn=l.d.div.withConfig({displayName:"ShipPlacementPanel__SwitchContainer",componentId:"bc459b-8"})(["display:grid;grid-template-columns:repeat(3,min-content);align-items:center;grid-gap:.5rem;"]),Bn=function(e){function t(){var e,n;Object(u.a)(this,t);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(n=Object(m.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(a)))).setCurrent=function(e){var t=n.props.notPlacedShips[e][0];t&&n.props.dispatch(ke(t))},n.getNextNotPlaced=function(e){for(var t=Object.keys(e),n=0;n<t.length;n++)if(e[t[n]][0])return e[t[n]][0];return null},n.placeShip=function(e,t,r){var a=n.props,o=a.dispatch,c=a.playerShips;if(We(e,-1,h.boardSize)&&We(t,-1,h.boardSize)){var i=n.props.current;i.pos={x:e,y:t,direction:r};var l=Object(s.a)({},n.props.notPlacedShips);for(var u in l){var p=l[u].indexOf(i);if(-1!==p){var m=l[u].slice();m.splice(p,1),l[u]=m;break}}var d=n.getNextNotPlaced(l);d?o(ke(d)):(o(ke(null)),at.emitPlacementDone([].concat(c,i))),o(Ie(l)),o(_e(i))}},n}return Object(f.a)(t,e),Object(p.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props.dispatch,n={single:[1,1,1,1].map(function(){return new He(null,t)}),double:[1,1,1].map(function(){return new Le(null,t)}),triple:[1,1].map(function(){return new Ue(null,t)}),quadruple:[1].map(function(){return new Ge(null,t)})};t(Ie(n)),this.unsubscribe=qe.subscribe(Ce.placeShip,function(t,n){return e.placeShip(t,n,Number(e.props.currentDirection))});var r=this.getNextNotPlaced(n);r&&t(ke(r))}},{key:"componentWillUnmount",value:function(){this.unsubscribe()}},{key:"render",value:function(){var e=this,t=this.props,n=t.notPlacedShips,r=t.current;return a.a.createElement(Nn,null,a.a.createElement(Ln,null,"Your Navy!"),a.a.createElement(Mn,null,n.single&&a.a.createElement(a.a.Fragment,null,a.a.createElement("span",null,n.single.length,"x"),a.a.createElement(zn,{onClick:function(){return e.setCurrent("single")},size:1})),n.double&&a.a.createElement(a.a.Fragment,null,a.a.createElement("span",null,n.double.length,"x"),a.a.createElement(zn,{onClick:function(){return e.setCurrent("double")},size:2})),n.triple&&a.a.createElement(a.a.Fragment,null,a.a.createElement("span",null,n.triple.length,"x"),a.a.createElement(zn,{onClick:function(){return e.setCurrent("triple")},size:3})),n.quadruple&&a.a.createElement(a.a.Fragment,null,a.a.createElement("span",null,n.quadruple.length,"x"),a.a.createElement(zn,{onClick:function(){return e.setCurrent("quadruple")},size:4}))),r?a.a.createElement(Hn,null,a.a.createElement(An,{size:r.length,vertical:"1"===this.props.currentDirection}),a.a.createElement(Gn,null,a.a.createElement("span",null,"horizontal"),a.a.createElement(Un,{onChange:function(t){return e.props.onChangeHandler({target:{name:"direction",value:t?"1":"0"}})}}),a.a.createElement("span",null,"vertical"))):null)}}]),t}(r.Component),Fn=Object(i.b)(function(e){return{playerShips:e.playerShips,notPlacedShips:e.notPlacedShips,current:e.current}})(Bn),Wn=l.d.div.withConfig({displayName:"ShipsPlacementPage__Container",componentId:"k2swp9-0"})(["height:100%;display:grid;grid-template-columns:1fr;grid-template-rows:3fr 2fr;place-content:center center;grid-gap:2rem;@media ","{grid-template-columns:1fr 1fr;grid-template-rows:40vh;}"],function(e){return e.theme.breakpointUp.md}),qn=function(e){function t(e){var n;return Object(u.a)(this,t),(n=Object(m.a)(this,Object(d.a)(t).call(this,e))).onChangeHandler=function(e){var t=e.target;n.setState({form:Object(s.a)({},n.state.form,Object(tn.a)({},t.name,t.value))})},n.flattenPlayerShips=function(){return n.props.playerShips.reduce(function(e,t){return Object(s.a)({},e,t.parts)},{})},n.getAvailablePlaces=function(){var e=n.props.current,t=n.state.form.direction;if(!e||!t)return[];var r=n.flattenPlayerShips(),a={checkDirection:function(){return"0"==t},length:e.length};return O.filter(function(e){return Ke.validate(e,a,r)})},n.state={form:{direction:"0"}},n}return Object(f.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){return a.a.createElement(Wn,null,a.a.createElement(te,null,Ye(this.getAvailablePlaces(),function(){return le},function(e,t){return qe.emit(Ce.placeShip,[e,t])}),Je(b,function(){return me}),Qe(this.props.playerShips)),a.a.createElement(Fn,{currentDirection:this.state.form.direction,onChangeHandler:this.onChangeHandler}))}}]),t}(r.Component),Vn=Object(i.b)(function(e){return{playerShips:e.playerShips,current:e.current}})(qn),Jn={overlay:{backgroundColor:"rgba(0, 0, 0, .6)"},content:{top:"50%",left:"50%",right:"auto",bottom:"auto",marginRight:"-50%",transform:"translate(-50%, -50%)"}};Xt.a.setAppElement("#root");var Yn,Qn=function(e){function t(e){var n;return Object(u.a)(this,t),(n=Object(m.a)(this,Object(d.a)(t).call(this,e))).saveGameSettings=function(){n.props.gameStatus===he.active?localStorage.setItem("game_save",JSON.stringify({playerID:n.props.playerID,roomID:n.props.roomID})):localStorage.removeItem("game_save")},n.restoreGame=function(e){var t=e.shipsMap.ships,r=e.opponentShotsMap,a=e.playerShotsMap,o=e.roomID,c=e.playerID,i=n.props.dispatch;i(Pe(r)),i(De(a)),i(Me({roomID:o,playerID:c})),t.map(function(e){return Ae.recreate(e,i)}).forEach(function(e){return n.props.dispatch(_e(e))})},n.startShipPlacementHandler=function(){n.props.dispatch(Te(he.shipPlacement))},n.opponentShootHandler=function(e){qe.emit(Ce.opponentShoot,e).filter(function(e){return!!e}).length||n.props.dispatch(Pe({x:e[0],y:e[1],type:"miss"}))},n.startGameHandler=function(){var e=n.props,t=e.dispatch,r=e.opponentDisconnectedModalOpen;t(Te(he.active)),r&&t(Ne(!1))},n.assignShooterHandler=function(e,t){n.setState({shootTime:t,timerKey:Math.random()}),n.props.dispatch(Re(n.props.playerID===e))},n.shoot=function(e,t){return new Promise(function(n){return at.emitShot([e,t],n)}).then(function(r){if(!r||r.error)throw new Error(r.error);if(r.length){var a=r.map(function(e){return{x:e.x,y:e.y,type:e.type,shipID:e.shipID}});n.playSoundType(a[0].type),n.props.dispatch(De(a))}else n.playSoundType("miss"),n.props.dispatch(De([{shipID:"miss",x:e,y:t,type:"miss"}]))}).catch(function(e){return console.error(e)})},n.leaveRoom=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};at.emitLeaveRoom().then(function(){return n.resetGameState(e)})},n.resetGameState=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};window.history.pushState(null,"Home",window.origin),n.setState({modalIsOpen:!1}),n.props.dispatch(ze()),n.props.dispatch(Me(Object(s.a)({},e.settings))),n.props.dispatch(Te(e.status||he.initialServer))},n.playSoundType=function(e){ot.volume=n.props.volume,ot.play(dt.getRandomWithType(e))},n.toggleModal=function(e){n.setState({modalIsOpen:void 0!==e?e:!n.state.modalIsOpen})},n.endGameHandler=function(){n.toggleModal(!1),n.leaveRoom()},n.state={shootTime:null,timerKey:Math.random(),modalIsOpen:!1},n}return Object(f.a)(t,e),Object(p.a)(t,[{key:"componentDidMount",value:function(){this.initConnection(),window.addEventListener("beforeunload",this.saveGameSettings)}},{key:"componentWillUnmount",value:function(){this.saveGameSettings()}},{key:"initConnection",value:function(){var e=this;at.events=this.gameEvents,at.restoreGame=this.restoreGame,at.initConnection().then(function(t){var n=t.playerID,r=t.roomID,a=t.reconnect?he.active:t.gameStatus;if(!n)throw new Error("Wrong result after connection init");e.props.dispatch(Me({playerID:n,roomID:r})),a&&e.props.dispatch(Te(a))}).catch(function(t){var n=t.playerID;e.leaveRoom({settings:{playerID:n},status:he.initialServer})})}},{key:"render",value:function(){var e,t=this,n=this.props,r=n.gameStatus,o=n.iAmShooter,c=n.gameResult,i=this.state.shootTime;return a.a.createElement(K,null,a.a.createElement(X,null),a.a.createElement(Yt,null),a.a.createElement(en,{onConfirmLeaveRoom:this.leaveRoom}),r===he.initialServer&&a.a.createElement(kn,null),r===he.shipPlacement&&a.a.createElement(Vn,null),r!==he.initialServer&&a.a.createElement(Z,null,r===he.active&&a.a.createElement(a.a.Fragment,null,c&&a.a.createElement(Xt.a,{isOpen:this.state.modalIsOpen,onRequestClose:function(){return t.endGameHandler()},style:Jn},a.a.createElement("h2",null,c.aliveShipsCount?"\u041f\u043e\u0437\u0434\u0440\u0430\u0432\u043b\u044f\u0435\u043c, \u0432\u044b \u0432\u044b\u0438\u0433\u0440\u0430\u043b\u0438!":"\u0421\u043e\u0440\u044f\u043d, \u0432\u044b \u043f\u0440\u043e\u0438\u0433\u0440\u0430\u043b\u0438"),a.a.createElement("pre",null,JSON.stringify(c))),a.a.createElement("button",{onClick:this.leaveRoom},"stop game"),a.a.createElement(ne,null,Je(b,function(){return me}),Ye(this.props.opponentShotsMap,function(){return pe}),Qe(this.props.playerShips)),a.a.createElement(re,null,Je(b,function(){return me}),Ye(O,function(){return ce},this.shoot),Ye((e=this.props.shotsMap,Object.values(e).reduce(function(e,t){return e.concat(Object.values(t))},[])),function(e){switch(e.type){case"hit":return se;case"miss":return pe;case"kill":return ue;default:return function(e){return a.a.createElement("p",null,"\u042b")}}})),a.a.createElement($,{shooter:o}),i&&a.a.createElement(St,{key:this.state.timerKey,deadline:i}))))}},{key:"gameEvents",get:function(){var e=this;return[{eventName:ve,eventHandler:this.startShipPlacementHandler},{eventName:ye,eventHandler:this.startGameHandler},{eventName:ge,eventHandler:this.opponentShootHandler},{eventName:be,eventHandler:this.assignShooterHandler},{eventName:"opponentDisconnect",eventHandler:function(t){var n=t.deadline;e.props.opponentDisconnectedModalOpen||(e.props.dispatch(function(e){return{type:"SET_ROOM_DESTROY_DEADLINE",payload:{deadline:e}}}(n)),e.props.dispatch(Ne(!0)))}},{eventName:"roomDestroyed",eventHandler:function(){return e.resetGameState()}},{eventName:"roomUpdated",eventHandler:function(t){return e.props.dispatch(function(e){return{type:"UPDATE_ONLINE_ROOM",payload:{roomsData:e}}}(t))}},{eventName:"gameOver",eventHandler:function(t){var n=t.stats;e.toggleModal(!0),e.props.dispatch(function(e){return{type:"SET_GAME_RESULT",payload:{stats:e}}}(n))}}]}}]),t}(r.Component),Xn=Object(i.b)(function(e){return{playerShips:e.playerShips,phase:e.phase,gameStatus:Be(e,"status.gameStatus"),roomID:Be(e,"settings.roomID"),playerID:Be(e,"settings.playerID"),shotsMap:e.shotsMap,opponentShotsMap:e.opponentShotsMap,iAmShooter:e.iAmShooter,volume:e.volume,opponentDisconnectedModalOpen:e.opponentDisconnectedModalOpen,gameResult:e.gameResult}})(Qn),Kn=n(18),Zn={notPlacedShips:{},playerShips:[],shotsMap:{},opponentShotsMap:[],current:null,iAmShooter:null,volume:.5,opponentDisconnectedModalOpen:!1,roomDestroyDeadline:null,onlineRooms:{},gameResult:null,settings:{chatEnable:void 0,maxScore:void 0,roomID:void 0,roomURL:void 0,playerID:void 0,side:void 0},status:{gameStatus:-1}},$n=(Yn={},Object(tn.a)(Yn,"SET_NOT_DISTRIBUTED_SHIPS",function(e,t){var n=t.ships;return Object(s.a)({},e,{notPlacedShips:n})}),Object(tn.a)(Yn,"ADD_PLAYER_SHIP",function(e,t){var n=t.ship;return Object(s.a)({},e,{playerShips:e.playerShips.concat(JSON.parse(JSON.stringify(n)))})}),Object(tn.a)(Yn,"UPDATE_PLAYER_SHIP",function(e,t){var n=t.ship;return Object(s.a)({},e,{playerShips:JSON.parse(JSON.stringify([].concat(e.playerShips.filter(function(e){return e.id!==n.id}),n)))})}),Object(tn.a)(Yn,"SET_CURRENT",function(e,t){var n=t.ship;return Object(s.a)({},e,{current:n})}),Object(tn.a)(Yn,"SET_ROOM_SETTINGS",function(e,t){var n=t.settings;return Object(s.a)({},e,{settings:Object(s.a)({},e.settings,n)})}),Object(tn.a)(Yn,"SET_GAME_STATUS",function(e,t){var n=t.status;return Object(s.a)({},e,{status:Object(s.a)({},e.status,{gameStatus:n})})}),Object(tn.a)(Yn,"ADD_SHOT_TO_MAP",function(e,t){var n=t.shots.reduce(function(e,t){return e[t.shipID]=Object(s.a)({},e[t.shipID],Object(tn.a)({},"".concat(t.x,";").concat(t.y),{x:t.x,y:t.y,type:t.type})),e},Object(s.a)({},e.shotsMap));return Object(s.a)({},e,{shotsMap:n})}),Object(tn.a)(Yn,"ADD_OPPONENT_SHOT_TO_MAP",function(e,t){var n=t.shot;return Object(s.a)({},e,{opponentShotsMap:e.opponentShotsMap.concat(n)})}),Object(tn.a)(Yn,"ASSIGN_SHOOTER",function(e,t){var n=t.iAmShooter;return Object(s.a)({},e,{iAmShooter:n})}),Object(tn.a)(Yn,"RESET_STATE",function(e){return Object(s.a)({},Zn,{onlineRooms:e.onlineRooms,settings:Object(s.a)({},Zn.settings,{playerID:e.settings.playerID})})}),Object(tn.a)(Yn,"SET_VOLUME",function(e,t){var n=t.volume;return Object(s.a)({},e,{volume:n})}),Object(tn.a)(Yn,"TOGGLE_OPPONENT_DISCONNECTED_MODAL",function(e,t){var n=t.isOpen;return Object(s.a)({},e,{opponentDisconnectedModalOpen:n})}),Object(tn.a)(Yn,"SET_ROOM_DESTROY_DEADLINE",function(e,t){var n=t.deadline;return Object(s.a)({},e,{roomDestroyDeadline:n})}),Object(tn.a)(Yn,"UPDATE_ONLINE_ROOM",function(e,t){var n=t.roomsData,r=Object(s.a)({},e.onlineRooms);return n.forEach(function(e){e.delete?delete r[e.roomID]:r[e.roomID]=Object(s.a)({},e)}),Object(s.a)({},e,{onlineRooms:r})}),Object(tn.a)(Yn,"SET_GAME_RESULT",function(e,t){var n=t.stats;return Object(s.a)({},e,{gameResult:n})}),Yn),er=function(e,t){return function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e,r=arguments.length>1?arguments[1]:void 0;if(!r||!r.type)return n;var a=t[r.type];return"function"===typeof a?a(n,r.payload):n}}(Zn,$n),tr=n(72),nr=n(73),rr=Object(Kn.createStore)(er,Object(tr.composeWithDevTools)(Object(Kn.applyMiddleware)(nr.a)));n(155),n(156);c.a.render(a.a.createElement(i.a,{store:rr},a.a.createElement(l.a,{theme:Q},a.a.createElement(Xn,null))),document.getElementById("root"))},19:function(e,t,n){e.exports=n.p+"static/media/paper.82f5918b.jpg"},68:function(e,t,n){e.exports=n.p+"static/media/miss2.44983578.mp3"},69:function(e,t,n){e.exports=n.p+"static/media/miss3.eb16e8d9.mp3"},70:function(e,t,n){e.exports=n.p+"static/media/shipHit.175ec828.wav"},76:function(e,t,n){e.exports=n(157)}},[[76,1,2]]]);
//# sourceMappingURL=main.17b11f4e.chunk.js.map